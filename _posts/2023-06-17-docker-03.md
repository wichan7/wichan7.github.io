---
title: "Docker - 3 (docker compose)"
categories: 
  - docker
tags:
  - container
  - docker
  - docker-compose
---
# 문제 상황
mongo 컨테이너와 app 컨테이너 간 통신이 안됐다.  
app에서는 `mongo://localhost:27017/...` 로 mongo를 호출하는데,  
컨테이너는 localhost를 컨테이너 본인으로 지정하기 때문이었다.  

따라서 docker network를 생성하고, 실행 시 mongo의 주소를 env로 지정하려고 했다.  
이 때, env를 계속해서 명령어로 지정하려니 너무 불편할 것 같아, docker-compose를 공부하려고 한다.  
 
# Docker Compose란
컨테이너 여럿을 띄우는 도커 애플리케이션을 정의하고 실행하는 도구

# 명령어
```
# 컨테이너 실행 
docker-compose up -d // 도커 백그라운드 실행
docker-compose up --force-recreate // 도커 컨테이너 새로 만들기
docker-compose up --build // 도커 이미지 빌드 후 compose up

# 컨테이너 내리기
docker-compose down // 컨테이너 stop & 삭제
docker-compose stop
```